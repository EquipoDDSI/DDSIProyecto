{"version":3,"sources":["components/CrudProfesor/CrudProfesor.js","App.js","index.js"],"names":["CrudProfesor","URL","useState","NombreProf","setNombreProf","ApellidosProf","setApellidosProf","Profesores","setProfesores","mostrar","setMostrar","listarProfesores","length","Axios","get","then","response","data","className","onSubmit","e","preventDefault","post","nombreProf","apellidoProf","alert","type","name","onChange","target","value","id","onClick","map","profesor","nombre","apellidos","placeholder","code","put","codeProfesor","editaProfesor","undefined","delete","find","filter","iterador","eliminaProfesor","App","ReactDOM","render","document","getElementById"],"mappings":"wNAqIeA,G,MAjIa,WAExB,IAAMC,EAAM,yBAFkB,EAGMC,mBAAS,IAHf,mBAGvBC,EAHuB,KAGXC,EAHW,OAIYF,mBAAS,IAJrB,mBAIvBG,EAJuB,KAIRC,EAJQ,OAKMJ,mBAAS,IALf,mBAKvBK,EALuB,KAKXC,EALW,OAMAN,oBAAS,GANT,mBAMvBO,EANuB,KAMdC,EANc,KAmCtBC,EAAmB,WAiBvB,OAfIF,GAAkC,IAAtBF,EAAWK,OAEvBC,IAAMC,IAAIb,EAAM,YACfc,MAAK,SAACC,GACHR,EAAcQ,EAASC,SAK3BT,EAFKC,EAESF,EAGA,IAGXA,GAGX,OACI,qCACI,uBAAMW,UAAU,gBAAgBC,SAjDjB,SAACC,GACpBA,EAAEC,iBACFR,IAAMS,KAAKrB,EAAM,WAAY,CAC3BsB,WAAYpB,EACZqB,aAAcnB,IACbU,MAAM,WACLU,MAAM,8BAEVjB,EAAcG,MAyCV,UACI,2CACA,uBAAOe,KAAK,OAAOC,KAAK,aAAaC,SAAU,SAACR,GAC5ChB,EAAcgB,EAAES,OAAOC,UAG3B,8CACA,uBAAOJ,KAAK,OAAOC,KAAK,gBAAgBC,SAAU,SAACR,GAC/Cd,EAAiBc,EAAES,OAAOC,UAG9B,wBAAQJ,KAAK,SAASK,GAAG,gBAAzB,yCAKJ,sBAAKA,GAAG,mBAAR,UACI,wBAAQC,QAAS,WACbtB,GAAaD,GACbE,KACDoB,GAAG,eAHN,+BAMA,gCACI,kCACA,+BACI,wCACA,2CACA,6CAGIxB,EAAW0B,KAAI,SAAAC,GAEX,IAAIC,EACAC,EACJ,OACA,+BACI,6BACI,uBAAOV,KAAK,OAAOW,YAAaH,EAASX,WAAYI,KAAK,gBAAgBC,SAAU,SAACR,GACjFe,EAASf,EAAES,OAAOC,WAG1B,6BACI,uBAAOJ,KAAK,OAAOW,YAAaH,EAASV,aAAcG,KAAK,eAAeC,SAAU,SAACR,GAClFgB,EAAYhB,EAAES,OAAOC,WAG7B,+BACI,wBAAQC,GAAG,eAAeC,QAAS,YAtF/C,SAACM,EAAMH,EAAQC,GACjCvB,IAAM0B,IAAN,UAAatC,EAAb,oBAA4BqC,GAAQ,CAClCE,aAAcF,EACdf,WAAYY,EACZX,aAAcY,IACbrB,MAAK,WAAKU,MAAM,4BAkFegB,CAAcP,EAASM,aACnBL,OACcO,IAAdN,EAAyBF,EAASV,aAAeY,IAHzD,oBAOA,wBAAQL,GAAG,iBAAiBC,QAAS,YArF/C,SAACQ,GACrB3B,IAAM8B,OAAN,UAAgB1C,EAAhB,oBAA+BuC,IAC/B,IAAMN,EAAW3B,EAAWqC,MAAK,SAACV,GAAD,OAAcA,EAASM,eAAiBA,KACzEhC,EAAcD,EAAWsC,QAAO,SAACC,GAC7B,OAAOA,IAAaZ,MAkFUa,CAAgBb,EAASM,eAD7B,4CC1FzBQ,EAtBH,WAEV,OACE,sBAAK9B,UAAU,MAAf,UACE,mCACE,uDACA,0BAGF,qBAAKA,UAAU,cAAf,SACE,qBAAKa,GAAG,gBAAR,SACE,cAAC,EAAD,QAIJ,kECfNkB,IAASC,OACL,cAAC,EAAD,IACFC,SAASC,eAAe,W","file":"static/js/main.431faad2.chunk.js","sourcesContent":["import React, {useState} from 'react';\r\nimport Axios from 'axios';\r\nimport './CrudProfesor.css';\r\n\r\nexport const CrudProfesor = () => {\r\n\r\n    const URL = 'http://localhost:3070/';\r\n    const [NombreProf, setNombreProf] = useState('')\r\n    const [ApellidosProf, setApellidosProf] = useState('')\r\n    const [Profesores, setProfesores] = useState([])\r\n    const [mostrar, setMostrar] = useState(true);\r\n\r\n    const aniadeProfesor = (e) => {\r\n        e.preventDefault();\r\n        Axios.post(URL + 'profesor', { \r\n          nombreProf: NombreProf,\r\n          apellidoProf: ApellidosProf\r\n        }).then( () => {\r\n            alert(\"Insertado correctamente\")\r\n        });\r\n        setProfesores(listarProfesores())\r\n      };\r\n    \r\n      const editaProfesor = (code, nombre, apellidos) => {\r\n          Axios.put(`${URL}profesor/${code}`, {\r\n            codeProfesor: code,\r\n            nombreProf: nombre,\r\n            apellidoProf: apellidos\r\n          }).then(()=>{alert(\"Editado correctamente\")});\r\n      };\r\n\r\n      const eliminaProfesor = (codeProfesor) => {\r\n          Axios.delete(`${URL}profesor/${codeProfesor}`);\r\n          const profesor = Profesores.find((profesor) => profesor.codeProfesor === codeProfesor)\r\n          setProfesores(Profesores.filter((iterador) => {\r\n              return iterador !== profesor;\r\n          }))\r\n      };\r\n    \r\n      const listarProfesores = () => {\r\n    \r\n        if (mostrar && (Profesores.length === 0))\r\n        {\r\n            Axios.get(URL + 'profesor')\r\n            .then((response) => {\r\n                setProfesores(response.data)\r\n            })\r\n        }\r\n        else if (mostrar)\r\n        {\r\n            setProfesores(Profesores);\r\n        }\r\n        else {\r\n            setProfesores([]);\r\n        }\r\n\r\n        return Profesores;\r\n      };\r\n\r\n    return (\r\n        <>   \r\n            <form className=\"form-profesor\" onSubmit={aniadeProfesor}>\r\n                <label>Nombre</label>\r\n                <input type=\"text\" name=\"nombreProf\" onChange={(e) => {\r\n                    setNombreProf(e.target.value)\r\n                }}/>\r\n\r\n                <label>Apellidos</label>\r\n                <input type=\"text\" name=\"apellidosProf\" onChange={(e) => {\r\n                    setApellidosProf(e.target.value)\r\n                }}/>\r\n\r\n                <button type=\"submit\" id=\"aniadir-boton\">\r\n                    AÃ±adir nuevo profesor\r\n                    </button>\r\n            </form>\r\n\r\n            <div id=\"listado-profesor\">\r\n                <button onClick={() => {\r\n                    setMostrar( !mostrar? true : false);\r\n                    listarProfesores();\r\n                }} id=\"listar-boton\">\r\n                    Listar profesores\r\n                </button>\r\n                <table>\r\n                    <tbody>\r\n                    <tr>\r\n                        <th>Nombre</th>\r\n                        <th>Apellidos</th>\r\n                        <th>Acciones</th>\r\n                    </tr>\r\n                    {\r\n                            Profesores.map(profesor => \r\n                            {\r\n                                let nombre;\r\n                                let apellidos;\r\n                                return (\r\n                                <tr>\r\n                                    <th>\r\n                                        <input type=\"text\" placeholder={profesor.nombreProf} name=\"apellidosProf\" onChange={(e) => {\r\n                                            nombre = e.target.value;\r\n                                        }}/>  \r\n                                    </th> \r\n                                    <th>\r\n                                        <input type=\"text\" placeholder={profesor.apellidoProf} name=\"apellidoProf\" onChange={(e) => {\r\n                                            apellidos = e.target.value;\r\n                                        }}/>\r\n                                    </th> \r\n                                    <th>\r\n                                        <button id=\"editar-boton\" onClick={() => {\r\n                                            editaProfesor(profesor.codeProfesor,\r\n                                                nombre, \r\n                                                apellidos === undefined? profesor.apellidoProf : apellidos)\r\n                                        }}>\r\n                                        Editar\r\n                                        </button>\r\n                                        <button id=\"eliminar-boton\" onClick={() => {\r\n                                            eliminaProfesor(profesor.codeProfesor)}}>\r\n                                        Eliminar\r\n                                        </button>\r\n                                    </th>\r\n                                </tr>\r\n                                )\r\n                            }\r\n                            )\r\n                    }\r\n                    </tbody>\r\n                </table>\r\n            </div>\r\n        </>\r\n    );\r\n};\r\n\r\nexport default CrudProfesor;","import './App.css';\nimport React from 'react';\nimport CrudProfesor from './components/CrudProfesor/CrudProfesor'\n\nconst App = () => {\n  \n  return (\n    <div className=\"App\">\n      <header>\n        <h1>Sistema departamentos</h1>\n        <hr/>\n      </header>\n\n      <div className=\"application\">\n        <div id=\"crud-profesor\">\n          <CrudProfesor />\n        </div>\n      </div>\n      \n      <footer>\n        Creado por el grupo C2_2\n      </footer>\n    </div>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(\n    <App />,\n  document.getElementById('root')\n);"],"sourceRoot":""}